# コレクション転送

定期的にインターネットにアクセスできない場合でも、デバイス間でコレクションをコピーすることは可能ですが、そのプロセスはあまり便利ではありません。

コレクション転送は、**すべてのデッキを一度に**特別なファイル `collection.colpkg` にエクスポートまたはインポートすることで機能します。そのファイルを一つのデバイスでエクスポートし、別のデバイスにコピーしてインポートすることができます。

コレクションファイルをインポートすると、既存のコンテンツはファイルの内容に置き換えられます。これは他のデバイスからの一方向の転送です。

これは、AnkiWebを介した同期とは異なり、二つの場所から同時に変更を加えてそれらをマージすることはできないことを意味します。変更を加える前に他のデバイスから最近の変更をインポートする必要があります。そうしないと、一つのデバイスで行った変更が失われてしまいます。

通常使用するワークフローは、モバイルデバイスからコレクションをエクスポートし、コンピュータ版にインポートして修正を加え（例えば、コンピュータにダウンロードした共有デッキをインポートするなど）、その後コレクションをエクスポートしてモバイルデバイスにインポートするというものです。

個々のデッキのエクスポートは現在できませんが、将来的には可能になる予定です。

## コンピュータからiPhone/iPadへ

### ファイルのエクスポート

コンピュータで:

1. コンピュータ版のAnkiを開きます。

2. メニューから **ファイル > エクスポート** を選択します。

3. **エクスポート** ボタンをクリックします。「すべてのデッキ」と「スケジュール情報を含む」をオンにしたままにしてください。

4. Ankiは自動的にデスクトップに `collection.colpkg` ファイルを作成します。ファイルが `deckname.apkg` のように別の名前になっている場合は、前のステップをもう一度確認してください。`collection.apkg` と呼ばれている場合も問題ありません - あなたのAnkiのバージョンが古いだけです。

### ファイルの転送

デバイスが同じWi-Fiネットワークに接続されていて、iCloudにサインインしている場合は、FinderのAirDropオプションを使用して、`collection.colpkg`ファイルをモバイルデバイスに[AirDrop](https://support.apple.com/en-au/HT204144)することができます。

AirDropを利用できない場合は、[Finder](https://support.apple.com/en-us/HT210598)または[iTunes](http://support.apple.com/kb/HT4094)を使用して、.colpkgファイルをAnkiのファイル共有エリアにドロップすることができます。

### ファイルのインポート

AirDropでファイルを送信した場合、受け入れたときにAnkiMobileが自動的にポップアップしてファイルをインポートするはずです。

iOSのファイル共有を介してファイルを転送した場合は、AnkiMobileのデッキリスト画面に移動し、次の手順を行います：

1. 左下の **追加/エクスポート** ボタンをタップします。

2. **iTunesからインポート** を選択し、置き換えを確認します。

3. 「インポートするファイルが見つかりません」というメッセージが表示された場合は、`collection.colpkg` ファイルをAnkiMobileのファイル共有セクションに正しく配置したか確認してください。

完了すると、デバイス上のデッキはデスクトップのデッキに置き換えられます。

`collection.colpkg` ファイルをインポートすると、Ankiはモバイルデバイス上に既に存在し、同じファイルサイズのサウンドや画像をコピーしないようにします。これにより、多くのメディアファイルがある場合、最初のインポート後のインポートがかなり速くなります。

## iPhone/iPadからコンピュータへ

AnkiMobileで、デッキリストの左下にある **追加/エクスポート** ボタンをタップします。

### AirDrop

1. **共有用にエクスポート** を選択し、次に **AirDrop** を選択します。
2. コンピュータを選択します。コンピュータが表示されない場合は、コンピュータでAirDropを開いていることを確認してください。
3. ファイルがコンピュータに届いたら、Anki内で **ファイル > インポート** を使用してファイルをインポートします。

### Finder/iTunes

1. **iTunesにエクスポート** を選択し、**エクスポート** をタップします。

次にコンピュータで:

1. AppleデバイスをUSBケーブルでコンピュータに接続します。

2. FinderまたはiTunesを開きます。

3. [Appleの指示](http://support.apple.com/kb/HT4094)に従って、Ankiのファイル共有セクションを見つけます。

4. FinderまたはiTunesから `collection.colpkg` ファイルをデスクトップにドラッグします。

5. Ankiで **ファイル > インポート** を使用してファイルをインポートします。

6. インポート後、必要に応じてデスクトップ上のファイルを削除できます。
